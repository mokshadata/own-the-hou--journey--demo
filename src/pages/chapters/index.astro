---
import { getCollection, getEntry, getEntries } from 'astro:content';

import Hello from '../../layouts/Hello.astro';

const chapters = await getCollection('chapters');
const chaptersWithSections = await Promise.all(chapters.map(async (chapter) => ({
    chapter: chapter.id,
    ...chapter.data,
    sections: (await getEntries(chapter.data.contains)).map((section) => ({section: section.id, ...section.data})),
})))


---
<Hello/>
